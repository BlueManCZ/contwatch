<h1>{{ handler.get_label() }} <span class="id">(id:{{ id }})</span></h1>
<form id="edit_handler_form">
    <input type="hidden" name="__handler_type__" value="{{ handler.type }}">

    <div class="form-group mt-3">
        <label for="__handler_label__">Handler label</label>
        <input id="__handler_label__" name="__handler_label__" class="form-control" value="{{ handler.get_label() }}">
    </div>

    {% for field in handler.config_fields %}
        {% if handler.config_fields[field].0 == "string" %}
            <div class="form-group mt-3">
                <label for="{{ field }}">{{ handler.config_fields[field].1 }}</label>
                <input id="{{ field }}" name="{{ field }}" class="form-control" value="{{ handler.get_config()[field] }}">
            </div>
        {% elif handler.config_fields[field].0 == "int" %}
            <div class="form-group mt-3">
                <label for="{{ field }}">{{ handler.config_fields[field].1 }}</label>
                <input id="{{ field }}" name="{{ field }}" class="form-control" type="number" step="1" value="{{ handler.get_config()[field] }}">
            </div>
        {% elif handler.config_fields[field].0 == "float" %}
            <div class="form-group mt-3">
                <label for="{{ field }}">{{ handler.config_fields[field].1 }}</label>
                <input id="{{ field }}" name="{{ field }}" class="form-control" type="number" step="0.01" value="{{ handler.get_config()[field] }}">
            </div>
        {% elif handler.config_fields[field].0 == "bool" %}
            <div class="form-group mt-3">
                <label for="{{ field }}" class="me-1">{{ handler.config_fields[field].1 }}</label>
                <input id="{{ field }}" name="{{ field }}" class="form-check-input" type="checkbox" {% if handler.get_config()[field] %}checked{% endif %} value="{{ handler.get_config()[field] }}">
            </div>
        {% endif %}
    {% endfor %}

    <button type="button" class="mt-3 btn btn-primary btn-sm" onclick="window.app.dialog.send('/edit_handler/{{ id }}')"><b>Save changes</b></button>
    <button type="button" class="mt-3 ml-2 btn btn-danger btn-sm" onclick="window.app.dialog.send('/delete_handler/{{ id }}')"><b>Delete handler</b></button>
</form>
